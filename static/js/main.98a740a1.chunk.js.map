{"version":3,"sources":["util/songParser.js","util/composeMidiFile.js","util/playMidi.js","samples/SoundFonts.js","components/Fakebook.jsx","util/withSynth.jsx","components/Box.jsx","components/ThreeDCanvas.jsx","components/MidiIn.jsx","components/MidiOut.jsx","components/Code.jsx","util/withMidi.jsx","Routes.jsx","App.jsx","serviceWorker.js","index.js"],"names":["parseSong","_ref","chords","octave","loop","measures","repeat","join","split","parsedChords","parseChords","appendProgressionDetails","map","measure","filter","chord","length","notes","tonal","note","index","concat","spreadOctave","duration","composeMidiFile","tempo","bassLine","arguments","undefined","track","MidiWriter","Track","bassTrack","NoteEvent","pitch","slice","Infinity","event","addEvent","generateBassLine","setTempo","write","Writer","console","log","dataUri","getRandomNote","weightedNotes","distributeNoteProbability","reverse","w2","w3","Math","floor","random","addRandomNoteToTrack","charAt","Array","fill","ac","AudioContext","Soundfont","require","playMidi","Object","asyncToGenerator","regenerator_default","a","mark","_callee","instrument","wrap","_context","prev","next","then","Player","MidiPlayer","time","currentTime","name","play","noteName","gain","velocity","loadDataUri","stop","_x","_x2","apply","this","playMidiThroughOutput","_ref2","_callee2","output","_context2","playNote","_x3","_x4","soundFonts","Space","styled","div","_templateObject","JazzText","textarea","_templateObject2","Text","text","_templateObject3","Options","_templateObject4","props","_useState","useState","_useState2","slicedToArray","setChords","_useState3","_useState4","_useState5","_useState6","setLoop","_useState7","_useState8","bass","setBass","_useState9","_useState10","setInstrument","react_default","createElement","style","width","height","alignItems","paddingTop","onSubmit","e","allChords","preventDefault","flatten","midiDataUri","handleSubmit","value","onChange","target","type","font","_templateObject5","tremolo","Tone","Tremolo","start","withSynth","Cmp","synth","PolySynth","oscillator","modulationType","modulationIndex","harmonicity","envelope","attack","decay","sustain","release","chain","Master","fmSynth","FMSynth","toMaster","assign","children","Box","mesh","useRef","hovered","setHover","active","setActive","activeNote","setActiveNote","cutoffValue","setCutoffValue","midiIn","addListener","useEffect","set","detune","removeListener","useFrame","current","rotation","x","y","includes","activationNotes","position","z","rotationY","ref","scale","onClick","ceil","noteFromRotation","triggerAttackRelease","midiOut","onPointerOver","onPointerOut","attach","args","color","SynthBox","ThreeDCanvas","web","marginLeft","SmallCanvas","MidiIn","justifyContent","midiIns","input","_midiInput","id","setMidiInId","ThreeDCanvas_ThreeDCanvas","noteEvent","MidiText","MidiOut_templateObject","MidiOut_templateObject2","MidiOut_templateObject3","MidiOut_templateObject4","MidiOut","noteBoxes","setNoteBoxes","Fragment","midiOuts","_midiOutput","setMidiOutId","MidiOut_Options","MidiOut_Text","MidiOut_Space","i","Box_Box","key","Code","padding","CodeTitle","CodeSnippet","CodeText","ThreeDCanvas_SmallCanvas","whiteSpace","textAlign","Code_templateObject","Code_templateObject2","Code_templateObject3","withMidi","compose","midiOutId","setMidiOut","setMidiIn","midiInId","_useState11","_useState12","setMidiOuts","_useState13","_useState14","setMidiIns","WebMidi","enable","inputs","outputs","getInputById","getOutputById","SideNav","Routes_templateObject","react_router_dom","basename","flexDirection","to","react_router","path","components_Fakebook","MidiIn_MidiIn","components_MidiOut","Code_Code","component","Fakebook","App","className","src_Routes","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"mMAGaA,EAAY,SAAAC,GAA8B,IAA3BC,EAA2BD,EAA3BC,OAAQC,EAAmBF,EAAnBE,OAAQC,EAAWH,EAAXG,KAEpCC,EADeC,YAAOJ,EAAQE,GAAMG,KAAK,KACjBC,MAAM,KAC9BC,EAAeC,EAAYL,GAEjC,OADaM,EAAyBF,EAAcN,IAIhDO,EAAc,SAAAL,GAClB,OAAOA,EACJO,IAAI,SAAAC,GAAO,OAAIA,EAAQL,MAAM,OAC7BI,IAAI,SAAAC,GAAO,OAAIA,EAAQC,OAAO,SAAAC,GAAK,OAAIA,EAAMC,OAAS,OAKrDL,EAA2B,SAACT,EAAQC,GACxC,OAAOD,EAAOU,IAAI,SAAAC,GAAO,OACvBA,EAAQD,IAAI,SAAAG,GAAK,MAAK,CACpBE,MAAOC,IAAYD,MAAMF,GAAOH,IAC9B,SAACO,EAAMC,GAAP,SAAAC,OAAoBF,GAApBE,OAA2BlB,EANd,SAAAiB,GAAK,OAAKA,EAAQ,IAAM,EAAI,EAAI,EAMTE,CAAaF,MAEnDjB,SACAY,QACAQ,SAAUV,EAAQG,OAAS,EAAjB,wDCvBHQ,EAAkB,SAACtB,EAAQuB,GAA4B,IAArBC,EAAqBC,UAAAX,OAAA,QAAAY,IAAAD,UAAA,IAAAA,UAAA,GAC5DE,EAAQ,IAAIC,IAAWC,MACvBC,EAAY,IAAIF,IAAWC,MAEb7B,EAAOU,IAAI,SAAAG,GAAK,MAEf,MAAnBA,EAAMQ,SACF,IAAIO,IAAWG,UAAU,CACvBC,MAAOC,YAAM,EAAGC,IAAUrB,EAAME,OAChCM,SAAU,MAGZ,IAAIO,IAAWG,UAAU,CACvBC,MAAOC,YAAM,EAAGC,IAAUrB,EAAME,OAChCM,SAAU,QAGNX,IAAI,SAAAyB,GAAK,OAAIR,EAAMS,SAASD,KAExCX,GACExB,EAAOU,IAAI,SAAAG,GACTwB,EAAiBxB,EAAOiB,KAG5BH,EAAMW,SAASf,GAAS,KACxB,IAAMgB,EAAQ,IAAIX,IAAWY,OAAO,CAACb,EAAOG,IAE5C,OADAW,QAAQC,IAAIH,EAAMI,WACXJ,EAAMI,WAGTC,EAAgB,SAAA7B,GAEpB,IAAM8B,EAAgBC,EAA0BC,YAAQhC,IAElDiC,EAAKF,EAA0BD,GAE/BI,EAAKH,EAA0BE,GACrC,OAAOC,EAAGC,KAAKC,MAAMD,KAAKE,SAAWH,EAAGnC,UAGpCgC,EAA4B,SAAA/B,GAAK,OACrCI,YAAOJ,EAAOkB,YAAM,EAAGC,IAAUnB,KAE7BsC,EAAuB,SAACxC,EAAOc,EAAOb,GAC1Ca,EAAMS,SACJ,IAAIR,IAAWG,UAAU,CACvBC,MAAK,GAAAb,OAAKyB,EAAc/B,EAAME,OAAOuC,OAAO,GAAvC,KACLjC,SAAUP,MAKVuB,EAAmB,SAACxB,EAAOc,GAC/B,MAA0B,MAAnBd,EAAMQ,SACT,IAAIkC,MAAM,GAAGC,OAAO9C,IAAI,kBAAM2C,EAAqBxC,EAAOc,EAAO,OACjE,IAAI4B,MAAM,GAAGC,OAAO9C,IAAI,kBAAM2C,EAAqBxC,EAAOc,EAAO,2DCzDjE8B,EAAK,IAAIC,aAETC,EAAYC,EAAQ,IAEbC,EAAQ,eAAA9D,EAAA+D,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAOxB,EAASyB,GAAhB,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACtBb,EAAUS,WACRX,EADF,+EAAAtC,OAEiFiD,EAFjF,YAGEK,KAAK,SAAAL,GACL,IAAMM,EAAS,IAAIC,IAAWD,OAAO,SAAAvC,GACnC,IAAMyC,EAAOnB,EAAGoB,YAChBpC,QAAQC,IAAIP,GACG,YAAfA,EAAM2C,KACFV,EAAWW,KAAK5C,EAAM6C,SAAUJ,EAAM,CAAEK,KAAM9C,EAAM+C,SAAW,IAC/DzC,QAAQC,IAAIP,KAElBuC,EAAOS,YAAYxC,GACnB+B,EAAOK,SAba,wBAAAT,EAAAc,SAAAjB,MAAH,gBAAAkB,EAAAC,GAAA,OAAAvF,EAAAwF,MAAAC,KAAA/D,YAAA,GAiBRgE,EAAqB,eAAAC,EAAA5B,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAyB,EAAOhD,EAASiD,GAAhB,IAAAlB,EAAA,OAAAV,EAAAC,EAAAI,KAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,QAC7BE,EAAS,IAAIC,IAAWD,OAAO,SAAAvC,GACnCM,QAAQC,IAAIkD,GACZ,IAAMhB,EAAOnB,EAAGoB,YAChBpC,QAAQC,IAAIP,GACG,YAAfA,EAAM2C,MAAsBc,EACxBA,EAAOE,SAAS3D,EAAM6C,SAAU,MAAO,CAAEJ,SACzCnC,QAAQC,IAAIP,MAEXgD,YAAYxC,GACnB+B,EAAOK,OAV4B,wBAAAc,EAAAT,SAAAO,MAAH,gBAAAI,EAAAC,GAAA,OAAAN,EAAAH,MAAAC,KAAA/D,YAAA,UCvBrBwE,EAAa,CACxB,YACA,gBACA,uBACA,wBACA,wBACA,QACA,WACA,WACA,UACA,QACA,eACA,UACA,aACA,eACA,gBACA,eACA,wBACA,UACA,QACA,aACA,eACA,WACA,WACA,aACA,oBACA,gBACA,WACA,uBACA,qBACA,uBACA,wBACA,uBACA,wBACA,mBACA,mBACA,eACA,SACA,QACA,cACA,gBACA,YACA,kBACA,eACA,kBACA,kBACA,eACA,cACA,aACA,eACA,oBACA,mBACA,UACA,YACA,cACA,aACA,kBACA,UACA,OACA,gBACA,kBACA,kBACA,eACA,iBACA,eACA,gBACA,oBACA,UACA,cACA,YACA,gBACA,OACA,UACA,gBACA,kBACA,oBACA,gBACA,aACA,kBACA,cACA,cACA,iBACA,aACA,cACA,YACA,mBACA,UACA,oBACA,WACA,aACA,iBACA,aACA,WACA,aACA,WACA,SACA,QACA,cACA,cACA,cACA,cACA,oBACA,oBACA,eACA,eACA,gBACA,gBACA,cACA,aACA,kBACA,kBACA,aACA,kBACA,iBACA,YACA,UACA,cACA,kBACA,WACA,UACA,OACA,gBACA,aACA,QACA,SACA,aACA,UACA,YACA,yhBCxHF,IAoFMC,EAAQC,IAAOC,IAAVC,KAGLC,EAAWH,IAAOI,SAAVC,KAMRC,EAAON,IAAOO,KAAVC,KAIJC,EAAUT,IAAOC,IAAVS,KAMEV,cA/FE,SAAAW,GAAS,IAAAC,EACIC,mBAC1B,8JAFsBC,EAAAnD,OAAAoD,EAAA,EAAApD,CAAAiD,EAAA,GACjB/G,EADiBiH,EAAA,GACTE,EADSF,EAAA,GA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","file":"static/js/main.98a740a1.chunk.js","sourcesContent":["import * as tonal from \"tonal\";\nimport { repeat } from \"ramda\";\n\nexport const parseSong = ({ chords, octave, loop }) => {\n  const loopedChords = repeat(chords, loop).join(\"|\");\n  const measures = loopedChords.split(\"|\");\n  const parsedChords = parseChords(measures);\n  const song = appendProgressionDetails(parsedChords, octave);\n  return song;\n};\n\nconst parseChords = measures => {\n  return measures\n    .map(measure => measure.split(\" \"))\n    .map(measure => measure.filter(chord => chord.length > 0));\n};\n\nconst spreadOctave = index => (index % 2 === 0 ? 1 : 0);\n\nconst appendProgressionDetails = (chords, octave) => {\n  return chords.map(measure =>\n    measure.map(chord => ({\n      notes: tonal.Chord.notes(chord).map(\n        (note, index) => `${note}${octave + spreadOctave(index)}`\n      ),\n      octave,\n      chord,\n      duration: measure.length > 1 ? `2` : `1`\n    }))\n  );\n};\n","import { slice, concat, reverse } from \"ramda\";\n\nimport MidiWriter from \"midi-writer-js\";\n\nexport const composeMidiFile = (chords, tempo, bassLine = false) => {\n  const track = new MidiWriter.Track();\n  const bassTrack = new MidiWriter.Track();\n\n  const chordEvents = chords.map(chord =>\n    // half length chord\n    chord.duration === \"2\"\n      ? new MidiWriter.NoteEvent({\n          pitch: slice(1, Infinity, chord.notes),\n          duration: \"2\"\n        })\n      : // full length chord\n        new MidiWriter.NoteEvent({\n          pitch: slice(1, Infinity, chord.notes),\n          duration: \"1\"\n        })\n  );\n  chordEvents.map(event => track.addEvent(event));\n\n  bassLine &&\n    chords.map(chord => {\n      generateBassLine(chord, bassTrack);\n    });\n\n  track.setTempo(tempo || 120);\n  const write = new MidiWriter.Writer([track, bassTrack]);\n  console.log(write.dataUri());\n  return write.dataUri();\n};\n\nconst getRandomNote = notes => {\n  //root note most probable\n  const weightedNotes = distributeNoteProbability(reverse(notes));\n  // then 3rd\n  const w2 = distributeNoteProbability(weightedNotes);\n  // then 5th\n  const w3 = distributeNoteProbability(w2);\n  return w3[Math.floor(Math.random() * w3.length)];\n};\n\nconst distributeNoteProbability = notes =>\n  concat(notes, slice(1, Infinity, notes));\n\nconst addRandomNoteToTrack = (chord, track, length) => {\n  track.addEvent(\n    new MidiWriter.NoteEvent({\n      pitch: `${getRandomNote(chord.notes).charAt(0)}2`,\n      duration: length\n    })\n  );\n};\n\nconst generateBassLine = (chord, track) => {\n  return chord.duration === \"2\"\n    ? new Array(2).fill().map(() => addRandomNoteToTrack(chord, track, \"4\"))\n    : new Array(4).fill().map(() => addRandomNoteToTrack(chord, track, \"4\"));\n};\n","import MidiPlayer from \"midi-player-js\";\n\nconst ac = new AudioContext();\n\nconst Soundfont = require(\"soundfont-player\");\n// https://github.com/gleitz/midi-js-soundfonts\nexport const playMidi = async (dataUri, instrument) => {\n  Soundfont.instrument(\n    ac,\n    `https://raw.githubusercontent.com/gleitz/midi-js-soundfonts/gh-pages/FatBoy/${instrument}-mp3.js`\n  ).then(instrument => {\n    const Player = new MidiPlayer.Player(event => {\n      const time = ac.currentTime;\n      console.log(event);\n      event.name === \"Note on\"\n        ? instrument.play(event.noteName, time, { gain: event.velocity / 4 })\n        : console.log(event);\n    });\n    Player.loadDataUri(dataUri);\n    Player.play();\n  });\n};\n\nexport const playMidiThroughOutput = async (dataUri, output) => {\n  const Player = new MidiPlayer.Player(event => {\n    console.log(output);\n    const time = ac.currentTime;\n    console.log(event);\n    event.name === \"Note on\" && output\n      ? output.playNote(event.noteName, \"all\", { time })\n      : console.log(event);\n  });\n  Player.loadDataUri(dataUri);\n  Player.play();\n};\n","export const soundFonts = [\n  \"accordion\",\n  \"acoustic_bass\",\n  \"acoustic_grand_piano\",\n  \"acoustic_guitar_nylon\",\n  \"acoustic_guitar_steel\",\n  \"agogo\",\n  \"alto_sax\",\n  \"applause\",\n  \"bagpipe\",\n  \"banjo\",\n  \"baritone_sax\",\n  \"bassoon\",\n  \"bird_tweet\",\n  \"blown_bottle\",\n  \"brass_section\",\n  \"breath_noise\",\n  \"bright_acoustic_piano\",\n  \"celesta\",\n  \"cello\",\n  \"choir_aahs\",\n  \"church_organ\",\n  \"clarinet\",\n  \"clavinet\",\n  \"contrabass\",\n  \"distortion_guitar\",\n  \"drawbar_organ\",\n  \"dulcimer\",\n  \"electric_bass_finger\",\n  \"electric_bass_pick\",\n  \"electric_grand_piano\",\n  \"electric_guitar_clean\",\n  \"electric_guitar_jazz\",\n  \"electric_guitar_muted\",\n  \"electric_piano_1\",\n  \"electric_piano_2\",\n  \"english_horn\",\n  \"fiddle\",\n  \"flute\",\n  \"french_horn\",\n  \"fretless_bass\",\n  \"fx_1_rain\",\n  \"fx_2_soundtrack\",\n  \"fx_3_crystal\",\n  \"fx_4_atmosphere\",\n  \"fx_5_brightness\",\n  \"fx_6_goblins\",\n  \"fx_7_echoes\",\n  \"fx_8_scifi\",\n  \"glockenspiel\",\n  \"guitar_fret_noise\",\n  \"guitar_harmonics\",\n  \"gunshot\",\n  \"harmonica\",\n  \"harpsichord\",\n  \"helicopter\",\n  \"honkytonk_piano\",\n  \"kalimba\",\n  \"koto\",\n  \"lead_1_square\",\n  \"lead_2_sawtooth\",\n  \"lead_3_calliope\",\n  \"lead_4_chiff\",\n  \"lead_5_charang\",\n  \"lead_6_voice\",\n  \"lead_7_fifths\",\n  \"lead_8_bass__lead\",\n  \"marimba\",\n  \"melodic_tom\",\n  \"music_box\",\n  \"muted_trumpet\",\n  \"oboe\",\n  \"ocarina\",\n  \"orchestra_hit\",\n  \"orchestral_harp\",\n  \"overdriven_guitar\",\n  \"pad_1_new_age\",\n  \"pad_2_warm\",\n  \"pad_3_polysynth\",\n  \"pad_4_choir\",\n  \"pad_5_bowed\",\n  \"pad_6_metallic\",\n  \"pad_7_halo\",\n  \"pad_8_sweep\",\n  \"pan_flute\",\n  \"percussive_organ\",\n  \"piccolo\",\n  \"pizzicato_strings\",\n  \"recorder\",\n  \"reed_organ\",\n  \"reverse_cymbal\",\n  \"rock_organ\",\n  \"seashore\",\n  \"shakuhachi\",\n  \"shamisen\",\n  \"shanai\",\n  \"sitar\",\n  \"slap_bass_1\",\n  \"slap_bass_2\",\n  \"soprano_sax\",\n  \"steel_drums\",\n  \"string_ensemble_1\",\n  \"string_ensemble_2\",\n  \"synth_bass_1\",\n  \"synth_bass_2\",\n  \"synth_brass_1\",\n  \"synth_brass_2\",\n  \"synth_choir\",\n  \"synth_drum\",\n  \"synth_strings_1\",\n  \"synth_strings_2\",\n  \"taiko_drum\",\n  \"tango_accordion\",\n  \"telephone_ring\",\n  \"tenor_sax\",\n  \"timpani\",\n  \"tinkle_bell\",\n  \"tremolo_strings\",\n  \"trombone\",\n  \"trumpet\",\n  \"tuba\",\n  \"tubular_bells\",\n  \"vibraphone\",\n  \"viola\",\n  \"violin\",\n  \"voice_oohs\",\n  \"whistle\",\n  \"woodblock\",\n  \"xylophone\"\n];\n","import React, { useState } from \"react\";\nimport { parseSong } from \"../util/songParser\";\nimport { composeMidiFile } from \"../util/composeMidiFile\";\nimport { flatten } from \"ramda\";\nimport { playMidi } from \"../util/playMidi\";\nimport styled from \"styled-components\";\nimport { soundFonts } from \"../samples/SoundFonts\";\n\nconst handleSubmit = ({ e, allChords, tempo, instrument, loop, bass }) => {\n  e.preventDefault();\n  const chords = flatten(parseSong({ chords: allChords, octave: 4, loop }));\n  console.log(chords, \":::CHORDS\");\n  const midiDataUri = composeMidiFile(chords, tempo, bass);\n  playMidi(midiDataUri, instrument);\n};\n\nconst Fakebook = props => {\n  const [chords, setChords] = useState(\n    \"BMaj7 D7 | GMaj7 Bb7 | EbMaj7 | Am7 D7 | GMaj7 Bb7 | EbMaj7 F#7 | BMaj7| Fm7 Bb7 | EbMaj7 | Am7 D7 | GMaj7 | C#m7 F#7 | BMaj7 | Fm7 Bb7| EbMaj7 | C#m7 F#7\"\n  );\n  const [tempo, setTempo] = useState(240);\n  const [loop, setLoop] = useState(1);\n  const [bass, setBass] = useState(false);\n\n  const [instrument, setInstrument] = useState(\"marimba\");\n\n  return (\n    <div\n      style={{\n        width: \"100vh\",\n        height: \"100vh\",\n        alignItems: \"center\",\n        paddingTop: 100\n      }}\n    >\n      <form\n        onSubmit={e =>\n          handleSubmit({\n            e,\n            allChords: chords,\n            tempo,\n            instrument,\n            loop,\n            bass\n          })\n        }\n      >\n        <JazzText value={chords} onChange={e => setChords(e.target.value)} />\n        <Options>\n          <Text>Tempo:</Text>\n          <input\n            value={tempo}\n            type=\"number\"\n            onChange={e => {\n              setTempo(e.target.value);\n            }}\n          />\n          <Space />\n\n          <Text>Repeat:</Text>\n          <input\n            value={loop}\n            type=\"number\"\n            onChange={e => {\n              setLoop(e.target.value);\n            }}\n          />\n          <Space />\n\n          <Text>Instrument:</Text>\n\n          <select\n            value={instrument}\n            onChange={e => setInstrument(e.target.value)}\n          >\n            {soundFonts.map(font => (\n              <option>{font}</option>\n            ))}\n          </select>\n          <Space />\n          <Text>Bassline:</Text>\n          <select value={bass} onChange={e => setBass(e.target.value)}>\n            <option value={true}>{\"true\"}</option>\n            <option value={false}>{\"false\"}</option>\n          </select>\n          <input type=\"submit\" value=\"Play\" />\n        </Options>\n      </form>\n    </div>\n  );\n};\n\nconst Space = styled.div`\n  padding: 20;\n`;\nconst JazzText = styled.textarea`\n  font-size: 32pt;\n  width: 800px;\n  height: 400px;\n`;\n\nconst Text = styled.text`\n  font-size: 12pt;\n`;\n\nconst Options = styled.div`\n  justify-content: space-between;\n  flex-direction: column;\n  height: 100px;\n`;\n\nexport default styled(Fakebook)``;\n","import React from \"react\";\nimport Tone from \"tone\";\nvar tremolo = new Tone.Tremolo().start();\n\nexport const withSynth = Cmp => props => {\n  const synth = new Tone.PolySynth({\n    oscillator: {\n      type: \"fmsquare\",\n      modulationType: \"sawtooth\",\n      modulationIndex: 3,\n      harmonicity: 3.4\n    },\n\n    envelope: {\n      attack: 0.001,\n      decay: 0.1,\n      sustain: 0.1,\n      release: 0.1\n    }\n  }).chain(tremolo, Tone.Master);\n\n  const fmSynth = new Tone.FMSynth().toMaster();\n\n  return (\n    <Cmp synth={synth} fmSynth={fmSynth} {...props}>\n      {props.children}\n    </Cmp>\n  );\n};\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { useFrame } from \"react-three-fiber\";\nimport { withSynth } from \"../util/withSynth\";\nimport { length } from \"ramda\";\n\nconst noteFromRotation = (rotation, notes) => {\n  const index = Math.ceil(rotation * 5) % length(notes);\n  console.log(notes[index]);\n  return notes[index];\n};\n\nexport const Box = props => {\n  // This reference will give us direct access to the mesh\n  const mesh = useRef();\n\n  // Set up state for the hovered and active state\n  const [hovered, setHover] = useState(false);\n  const [active, setActive] = useState(false);\n  const [activeNote, setActiveNote] = useState();\n  const [cutoffValue, setCutoffValue] = useState(1);\n\n  props.midiIn &&\n    !activeNote &&\n    props.midiIn.addListener(\"noteon\", \"all\", e => {\n      console.log(\n        \"Received 'noteon' message (\" + e.note.name + e.note.octave + \").\"\n      );\n      const note = e.note.name + e.note.octave;\n      setActiveNote(note);\n    });\n\n  props.midiIn &&\n    !activeNote &&\n    props.midiIn.addListener(\"controlchange\", \"all\", e => {\n      console.log(e);\n      setCutoffValue(e.value);\n    });\n\n  useEffect(() => {\n    props.synth &&\n      props.synth.set({\n        detune: cutoffValue * 10\n      });\n  }, [cutoffValue]);\n\n  props.midiIn && props.midiIn.removeListener(\"noteoff\");\n\n  useFrame(() => {\n    mesh.current.rotation.x = mesh.current.rotation.y += 0.01;\n    mesh.current.rotation.y =\n      activeNote && activeNote.includes(props.activationNotes[0])\n        ? (mesh.current.rotation.y += 1)\n        : mesh.current.rotation.y;\n\n    mesh.current.position.z =\n      activeNote && activeNote.includes(props.activationNotes[1])\n        ? (mesh.current.position.z += 0.01)\n        : mesh.current.position.z;\n\n    mesh.current.position.z =\n      activeNote && activeNote.includes(props.activationNotes[2])\n        ? (mesh.current.position.z -= 0.01)\n        : mesh.current.position.z;\n\n    mesh.current.position.y =\n      activeNote && activeNote.includes(props.activationNotes[3])\n        ? (mesh.current.position.y -= 0.01)\n        : mesh.current.position.y;\n\n    mesh.current.position.y =\n      activeNote && activeNote.includes(props.activationNotes[4])\n        ? (mesh.current.position.y += 0.01)\n        : mesh.current.position.y;\n\n    mesh.current.position.x =\n      activeNote && activeNote.includes(props.activationNotes[5])\n        ? (mesh.current.position.x -= 0.01)\n        : mesh.current.position.x;\n\n    mesh.current.position.x =\n      activeNote && activeNote.includes(props.activationNotes[6])\n        ? (mesh.current.position.x += 0.01)\n        : mesh.current.position.x;\n\n    if (mesh.current.position.x >= 4 || mesh.current.position.x <= -4) {\n      mesh.current.position.x = 0;\n    }\n    if (mesh.current.position.y >= 4 || mesh.current.position.y <= -4) {\n      mesh.current.position.y = 0;\n    }\n    if (mesh.current.position.z >= 4 || mesh.current.position.z <= -4) {\n      mesh.current.position.z = 0;\n    }\n  });\n  const rotationY = mesh.current ? mesh.current.rotation.y / 3 : 1;\n  return (\n    <mesh\n      {...props}\n      ref={mesh}\n      scale={!active ? [(0.5 * cutoffValue) / 10, 0.5, 0.5] : [0.7, 0.7, 0.7]}\n      onClick={e => {\n        setActive(!active);\n        console.log(mesh.current.rotation.y);\n        const note = noteFromRotation(rotationY, props.notes);\n        props.synth && props.synth.triggerAttackRelease(note, 0.5);\n        props.midiOut &&\n          props.midiOut.playNote(note, \"all\", { duration: 1000 });\n      }}\n      onPointerOver={e => setHover(true)}\n      onPointerOut={e => setHover(false)}\n    >\n      <boxBufferGeometry attach=\"geometry\" args={[1, 1, 1]} />\n      <meshStandardMaterial\n        attach=\"material\"\n        color={hovered ? \"#FFFF00\" : \"#00ffff\"}\n      />\n    </mesh>\n  );\n};\n\nexport const SynthBox = withSynth(Box);\n","import React from \"react\";\nimport { Canvas } from \"react-three-fiber\";\n\nexport const ThreeDCanvas = props => {\n  return (\n    <Canvas\n      style={{\n        width: \"100vw\",\n        height: \"100vh\",\n        marginLeft: \"-200px\"\n        // borderStyle: \"solid\"\n      }}\n    >\n      <ambientLight />\n      <pointLight position={[10, 10, 10]} />\n      {props.children}\n    </Canvas>\n  );\n};\n\nexport const SmallCanvas = props => {\n  return (\n    <Canvas style={{ width: \"100%\", height: \"100%\" }}>\n      <ambientLight />\n      <pointLight position={[10, 10, 10]} />\n      {props.children}\n    </Canvas>\n  );\n};\n","import React from \"react\";\nimport { SynthBox } from \"./Box\";\nimport { ThreeDCanvas } from \"./ThreeDCanvas\";\nimport { reverse } from \"ramda\";\nexport const MidiIn = props => {\n  return (\n    <div style={{ width: \"100vh\", height: \"100vh\", alignItems: \"center\" }}>\n      <div style={{ justifyContent: \"space-between\" }}>\n        <select>\n          {props.midiIns &&\n            props.midiIns.map(input => (\n              <option\n                value={input._midiInput.id}\n                onChange={() => props.setMidiInId(input._midiInput.id)}\n              >\n                {input._midiInput.name}\n              </option>\n            ))}\n        </select>\n      </div>\n      <ThreeDCanvas>\n        <SynthBox\n          midiIn={props.midiIn}\n          noteEvent={props.noteEvent}\n          activationNotes={[\"C\", \"D\", \"F\", \"G\", \"B\", \"E\", \"F\"]}\n          notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n          position={[-3, -0.5, 0]}\n        />\n        <SynthBox\n          midiIn={props.midiIn}\n          noteEvent={props.noteEvent}\n          activationNotes={[\"C\", \"D\", \"F\", \"G\", \"B\", \"E\", \"F\"]}\n          notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n          position={[1, 0, 0]}\n        />\n        <SynthBox\n          midiIn={props.midiIn}\n          noteEvent={props.noteEvent}\n          activationNotes={reverse([\"C\", \"D\", \"F\", \"G\", \"B\", \"E\", \"F\"])}\n          notes={reverse([\n            \"A4\",\n            \"C5\",\n            \"D3\",\n            \"E4\",\n            \"G4\",\n            \"A3\",\n            \"C4\",\n            \"D5\",\n            \"E4\",\n            \"G4\"\n          ])}\n          position={[-2, 3, 0]}\n        />\n        <SynthBox\n          midiIn={props.midiIn}\n          noteEvent={props.noteEvent}\n          activationNotes={[\"Bb\", \"Ab\", \"D\", \"F\", \"E\", \"F\", \"G\"]}\n          notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n          position={[-3, 2, 0]}\n        />\n        <SynthBox\n          midiIn={props.midiIn}\n          noteEvent={props.noteEvent}\n          activationNotes={reverse([\"Bb\", \"Ab\", \"D\", \"F\", \"E\", \"F\", \"G\"])}\n          notes={reverse([\n            \"A4\",\n            \"C5\",\n            \"D3\",\n            \"E4\",\n            \"G4\",\n            \"A3\",\n            \"C4\",\n            \"D5\",\n            \"E4\",\n            \"G4\"\n          ])}\n          position={[-1, 1, 0]}\n        />\n        <SynthBox\n          midiIn={props.midiIn}\n          noteEvent={props.noteEvent}\n          activationNotes={[\"E\", \"Gb\", \"C\", \"D\", \"B\", \"Bb\", \"Eb\"]}\n          notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n          position={[1, -1, 0]}\n        />\n        <SynthBox\n          midiIn={props.midiIn}\n          noteEvent={props.noteEvent}\n          activationNotes={reverse([\"E\", \"Gb\", \"C\", \"D\", \"B\", \"Bb\", \"Eb\"])}\n          notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n          position={[1, -1, 0]}\n        />\n        <SynthBox\n          midiIn={props.midiIn}\n          noteEvent={props.noteEvent}\n          activationNotes={[\"Eb\", \"Gb\", \"C\", \"A\", \"C\", \"D\", \"B\"]}\n          notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n          position={[-2, -1, 1]}\n        />\n        <SynthBox\n          midiIn={props.midiIn}\n          noteEvent={props.noteEvent}\n          activationNotes={reverse([\"Eb\", \"Gb\", \"C\", \"A\", \"C\", \"D\", \"B\"])}\n          notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n          position={[-2, -1, 1]}\n        />\n        <SynthBox\n          midiIn={props.midiIn}\n          noteEvent={props.noteEvent}\n          activationNotes={[\"D\", \"E\", \"C\", \"G\", \"Eb\", \"Gb\", \"C\"]}\n          notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n          position={[-3, -1, 1]}\n        />\n        <SynthBox\n          midiIn={props.midiIn}\n          noteEvent={props.noteEvent}\n          activationNotes={reverse([\"D\", \"E\", \"C\", \"G\", \"Eb\", \"Gb\", \"C\"])}\n          notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n          position={[-4, 3, 1]}\n        />\n        <SynthBox\n          midiIn={props.midiIn}\n          noteEvent={props.noteEvent}\n          activationNotes={[\"D\", \"C\", \"E\", \"Gb\", \"C\", \"G\", \"Eb\"]}\n          notes={reverse([\n            \"A4\",\n            \"C5\",\n            \"D3\",\n            \"E4\",\n            \"G4\",\n            \"A3\",\n            \"C4\",\n            \"D5\",\n            \"E4\",\n            \"G4\"\n          ])}\n          position={[-4, 3, 1]}\n        />\n        <SynthBox\n          midiIn={props.midiIn}\n          noteEvent={props.noteEvent}\n          activationNotes={reverse([\"D\", \"E\", \"C\", \"G\", \"Eb\", \"Gb\", \"C\"])}\n          notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n          position={[-4, 3, 1]}\n        />\n      </ThreeDCanvas>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { parseSong } from \"../util/songParser\";\nimport { composeMidiFile } from \"../util/composeMidiFile\";\nimport { flatten } from \"ramda\";\nimport { playMidiThroughOutput } from \"../util/playMidi\";\nimport styled from \"styled-components\";\nimport { Box } from \"./Box\";\nimport { ThreeDCanvas } from \"./ThreeDCanvas\";\n\nconst handleSubmit = ({ e, allChords, output, tempo, loop, bass }) => {\n  e.preventDefault();\n  const chords = flatten(parseSong({ chords: allChords, octave: 4, loop }));\n  const midiDataUri = composeMidiFile(chords, tempo, bass);\n  playMidiThroughOutput(midiDataUri, output);\n};\n\nconst MidiOut = props => {\n  const [chords, setChords] = useState(\"\");\n  const [tempo, setTempo] = useState(160);\n  const [loop, setLoop] = useState(1);\n  const [bass, setBass] = useState(false);\n\n  const [noteBoxes, setNoteBoxes] = useState([\n    [\"A4\", \"C4\", \"D4\", \"E4\", \"G4\"],\n    [\"G4\", \"A4\", \"B4\", \"Db4\", \"Eb4\", \"F4\"],\n    [\"A5\", \"Db5\", \"Eb5\", \"E5\", \"G2\"],\n    [\"G4\", \"A4\", \"B4\", \"Db4\", \"Eb4\", \"F4\"],\n    [\"A5\", \"Db5\", \"Eb5\", \"E5\", \"G2\"]\n  ]);\n\n  console.log(props, setNoteBoxes);\n  return (\n    <>\n      <select>\n        {props.midiOuts &&\n          props.midiOuts.map(output => (\n            <option\n              value={output._midiOutput.id}\n              onChange={() => props.setMidiOutId(output._midiInput.id)}\n            >\n              {output._midiOutput.name}\n            </option>\n          ))}\n      </select>\n      <form\n        onSubmit={e =>\n          handleSubmit({\n            e,\n            allChords: chords,\n            output: props.midiOut,\n            loop,\n            tempo,\n            bass\n          })\n        }\n      >\n        <MidiText value={chords} onChange={e => setChords(e.target.value)} />\n        <input type=\"submit\" value=\"Play\" />\n      </form>\n      <div\n        style={{\n          width: \"100vh\",\n          height: \"100vh\",\n          alignItems: \"center\",\n          paddingTop: 100\n        }}\n      >\n        <Options>\n          <Text>Tempo:</Text>\n          <input\n            value={tempo}\n            type=\"number\"\n            onChange={e => {\n              setTempo(e.target.value);\n            }}\n          />\n          <Space />\n\n          <Text>Repeat:</Text>\n          <input\n            value={loop}\n            type=\"number\"\n            onChange={e => {\n              setLoop(e.target.value);\n            }}\n          />\n\n          <Space />\n          <Text>Bassline:</Text>\n          <select value={bass} onChange={e => setBass(e.target.value)}>\n            <option value={true}>{\"true\"}</option>\n            <option value={false}>{\"false\"}</option>\n          </select>\n          <input type=\"submit\" value=\"Play\" />\n        </Options>\n        <ThreeDCanvas style={{ width: \"100vw\", height: \"100vh\" }}>\n          {noteBoxes.map((notes, i) =>\n            i % 2 !== 0 ? (\n              <Box\n                key={i}\n                midiOut={props.midiOut}\n                notes={notes}\n                position={[-i, 0.5, 0]}\n              />\n            ) : (\n              <Box\n                key={i}\n                midiOut={props.midiOut}\n                notes={notes}\n                position={[i - 4, 2, 0]}\n              />\n            )\n          )}\n        </ThreeDCanvas>\n      </div>\n    </>\n  );\n};\n\nconst MidiText = styled.textarea`\n  font-size: 32pt;\n  font-family: Arial;\n`;\n\nconst Space = styled.div`\n  padding: 20;\n`;\nconst Text = styled.text`\n  font-size: 12pt;\n`;\n\nconst Options = styled.div`\n  justify-content: space-between;\n  flex-direction: column;\n  height: 100px;\n`;\n\nexport default MidiOut;\n","import React from \"react\";\nimport { SynthBox } from \"./Box\";\nimport { SmallCanvas } from \"./ThreeDCanvas\";\nimport styled from \"styled-components\";\n\nexport const Code = props => {\n  const rawWebMidiAPICodeBlock = `\nnavigator.requestMIDIAccess()\n  .then(onMIDISuccess);\n\nconst onMIDISuccess = (webMidiAPI) => {\n    console.log(webMidiAPI.inputs, webMidiAPI.outputs);\n    const inputs = webMidiAPI.inputs\n    inputs.map(input => {\n        input.value.onmidimessage = onMIDIMessage;\n    })\n}\n\nconst noteOn = (midiNote, velocity) => {\n    // Use a Web Audio API or library \n    // to play the note\n    // or update your UI\n    play(midiNote, velocity)\n}\n\nconst onMIDIMessage = (event) => {\n    const data = event.data,\n    const [type, note, velocity] = data,\n\n    type === 144 && noteOn(note, velocity);\n    type === 128 && noteOff(note, velocity);\n}\n\n// This project does not use the Web MIDI API directly. \n// Instead I use a bunch of libraries. This is JS afterall.\n`;\n\n  const webMidiJsCodeBlock = `\nimport WebMidi from \"webmidi\";\n\nWebMidi.enable(() => {\n\n    // Easily get inputs and outputs\n    console.log(WebMidi.inputs);\n    console.log(WebMidi.outputs);\n\n    const input = WebMidi.getInputById(\n        WebMidi.inputs[0]._midiInput.id\n    );\n\n    const output = WebMidi.getOutputById(\n        WebMidi.outputs[0]._midiOutput.id\n    );\n\n    // much easier to implement a noteon\n    input.addListener(\"noteon\", \"all\", e => {\n\n        const note = e.note.name + e.note.octave;\n\n        // Play with instrument or use the note \n        // to control a display\n        synth.triggerAttackRelease(note, 0.5);\n    });\n});\n    `;\n\n  const writingMidiFileCodeBlock = `\n  import MidiWriter from \"midi-writer-js\";\n\n  const track = new MidiWriter.Track();\n\n  // Add a BbMaj9 chord\n  new MidiWriter.NoteEvent({\n    pitch: ['Bb4', 'D5', 'A5', 'C5'],\n    duration: \"1\"\n  })\n\n  // Add as many tracks as you want\n  const midiFile = new MidiWriter.Writer([track]);\n\n  // You can use the data uri with other libraries\n  // to play back MIDI and perform any code in time with\n  // the MIDI.\n  // Or you can directly download it and play the file in your \n  // favoroite software.\n\n  midiFile.dataUri();\n  `;\n\n  const midiOutputCodeBlock = `\nimport MidiPlayer from \"midi-player-js\";\n\nconst ac = new AudioContext();\n\n  // output from previous code block\n  // this output is your synthesizer\n  // data uri from midi writer\n\n  export const playMidi = async (dataUri, output) => {\n\n    const Player = new MidiPlayer.Player(event => {\n\n      // AudioContext is important for scheduling\n      const time = ac.currentTime;\n\n      // This can be any MIDI event\n      // This is the block in which the music is played\n      event.name === \"Note on\" && output && \n            output.playNote(event.noteName, \"all\", { time })\n    });\n\n    Player.loadDataUri(dataUri);\n    Player.play();\n  };\n`;\n\n  const citations = `\nCitations and Further reading:\nhttps://webaudio.github.io/web-midi-api/\nhttps://www.keithmcmillen.com/blog/making-music-in-the-browser-web-midi-api/\nhttps://github.com/djipco/webmidi\nhttps://www.smashingmagazine.com/2018/03/web-midi-api/\nhttps://developer.mozilla.org/en-US/docs/Web/API/BaseAudioContext/currentTime\n\nOther libraries used\nReact.js\nstyled-components \nTonal (music theory) https://github.com/tonaljs/tonal\nreact-three-fiber (threejs for react) https://github.com/react-spring/react-three-fiber\nTone.js (synthesizers) https://tonejs.github.io/\n`;\n\n  return (\n    <div style={{ width: \"100vh\", height: \"100vh\", alignItems: \"center\" }}>\n      <div style={{ justifyContent: \"space-between\" }}>\n        <div style={{ padding: \"20px\" }} />\n        <CodeTitle>Web Midi API</CodeTitle>\n        <CodeSnippet>\n          <CodeText>{rawWebMidiAPICodeBlock}</CodeText>\n        </CodeSnippet>\n        <SmallCanvas>\n          <SynthBox\n            noteEvent={props.noteEvent}\n            activationNotes={[\"C\", \"D\", \"F\", \"G\", \"B\", \"E\", \"F\"]}\n            notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n            position={[0, -0.5, 3]}\n          />\n        </SmallCanvas>\n        <CodeTitle>webmidi.js</CodeTitle>\n        <CodeSnippet>\n          <CodeText>{webMidiJsCodeBlock}</CodeText>\n        </CodeSnippet>\n        <SmallCanvas>\n          <SynthBox\n            noteEvent={props.noteEvent}\n            activationNotes={[\"C\", \"D\", \"F\", \"G\", \"B\", \"E\", \"F\"]}\n            notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n            position={[-1.5, -0.5, 3]}\n          />\n        </SmallCanvas>\n        <CodeTitle>midiwriter.js</CodeTitle>\n        <CodeSnippet>\n          <CodeText>{writingMidiFileCodeBlock}</CodeText>\n        </CodeSnippet>\n        <SmallCanvas>\n          <SynthBox\n            noteEvent={props.noteEvent}\n            activationNotes={[\"C\", \"D\", \"F\", \"G\", \"B\", \"E\", \"F\"]}\n            notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n            position={[2, -0.5, 3]}\n          />\n        </SmallCanvas>\n        <CodeTitle>midiplayer.js</CodeTitle>\n        <CodeSnippet>\n          <CodeText>{midiOutputCodeBlock}</CodeText>\n        </CodeSnippet>\n        <SmallCanvas>\n          <SynthBox\n            noteEvent={props.noteEvent}\n            activationNotes={[\"C\", \"D\", \"F\", \"G\", \"B\", \"E\", \"F\"]}\n            notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n            position={[0, -0.5, 3]}\n          />\n        </SmallCanvas>\n        <div\n          style={{\n            whiteSpace: \"pre\",\n            textAlign: \"left\",\n            padding: \"50px\"\n          }}\n        >\n          {citations}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst CodeSnippet = styled.div`\n  background-color: #000000;\n  border-radius: 10px;\n  white-space: pre;\n  text-align: left;\n  padding-left: 50px;\n  padding-right: 50px;\n  padding-bottom: 50px;\n  margin-top: 30px;\n  width: 800px;\n`;\n\nconst CodeText = styled.text`\n  color: #ffffff;\n  white-space: pre;\n  text-align: left;\n`;\n\nconst CodeTitle = styled.text`\n  color: #ffffff;\n  font-size: 40pt;\n  text-align: left;\n  user-select: none;\n`;\n","import React, { useState, useEffect } from \"react\";\nimport WebMidi from \"webmidi\";\nimport { withSynth } from \"./withSynth\";\nimport { compose, length } from \"ramda\";\n\nexport const withWebMidi = Cmp => props => {\n  const [noteEvent, setNoteEvent] = useState();\n  const [midiOutId, setMidiOutId] = useState();\n  const [midiOut, setMidiOut] = useState();\n  const [midiIn, setMidiIn] = useState();\n  const [midiInId, setMidiInId] = useState();\n  const [midiOuts, setMidiOuts] = useState();\n  const [midiIns, setMidiIns] = useState();\n\n  useEffect(() => {\n    WebMidi.enable(() => {\n      console.log(WebMidi.inputs);\n      console.log(WebMidi.outputs);\n      setMidiIns(WebMidi.inputs);\n      setMidiOuts(WebMidi.outputs);\n      if (length(WebMidi.inputs) > 0 && length(WebMidi.outputs) > 0) {\n        const input = WebMidi.getInputById(\n          midiInId || WebMidi.inputs[1]._midiInput.id\n        );\n        // const output = WebMidi.getOutputById(\"1295864820\");\n        const output = WebMidi.getOutputById(\n          midiOutId || WebMidi.outputs[1]._midiOutput.id\n        );\n\n        setMidiOut(output);\n        setMidiIn(input);\n        // input.addListener(\"noteon\", \"all\", e => {\n        //   console.log(\n        //     \"Received 'noteon' message (\" + e.note.name + e.note.octave + \").\"\n        //   );\n        //   const note = e.note.name + e.note.octave;\n        //   setNoteEvent(note);\n        //   props.synth.triggerAttackRelease(note, 0.5);\n        // });\n        // input.removeListener(\"noteoff\");\n      }\n    });\n  }, [midiOutId, midiInId, midiIns, midiOuts]);\n\n  return (\n    <Cmp\n      noteEvent={noteEvent}\n      midiOuts={midiOuts}\n      setMidiOutId={setMidiOutId}\n      midiIns={midiIns}\n      setMidiInId={setMidiInId}\n      midiOut={midiOut}\n      midiIn={midiIn}\n      {...props}\n    >\n      {props.children}\n    </Cmp>\n  );\n};\n\nexport const withMidi = compose(withSynth, withWebMidi);\n","import React from \"react\";\n\nimport { HashRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport Fakebook from \"./components/Fakebook\";\nimport { MidiIn } from \"./components/MidiIn\";\nimport MidiOut from \"./components/MidiOut\";\nimport { Code } from \"./components/Code\";\nimport { withMidi } from \"./util/withMidi\";\nimport styled from \"styled-components\";\n\nexport const Routes = props => {\n  return (\n    <Router basename={\"/\"}>\n      <div style={{ flexDirection: \"row\" }}>\n        <SideNav>\n          <div>\n            <Link to=\"/fakebook\">Jazzbot</Link>\n          </div>\n          <div>\n            <Link to=\"/midi-in\">midi-in</Link>\n          </div>\n          <div>\n            <Link to=\"/midi-out\">midi-out</Link>\n          </div>\n          <div>\n            <Link to=\"/code\">code</Link>\n          </div>\n          {/* <Link to=\"/midi-chat\">midi-chat</Link> */}\n        </SideNav>\n        <Switch>\n          <Route path=\"/fakebook\">\n            <Fakebook />\n          </Route>\n          <Route path=\"/midi-in\">\n            <MidiIn {...props} />\n          </Route>\n          <Route path=\"/midi-out\">\n            <MidiOut {...props} />\n          </Route>\n          <Route path=\"/code\">\n            <Code {...props} />\n          </Route>\n          <Route path=\"/\" component={Fakebook}></Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n\nconst SideNav = styled.div`\n  height: 100%;\n  width: 50;\n  left: 0;\n  z-index: 20;\n  position: fixed;\n  flex: 1;\n  background-color: #ff00ff;\n  justify-content: left;\n`;\n\nexport default withMidi(Routes);\n","import React from \"react\";\nimport \"./App.css\";\nimport Routes from \"./Routes\";\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Routes />\n      </header>\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}