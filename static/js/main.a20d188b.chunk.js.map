{"version":3,"sources":["util/songParser.js","util/composeMidiFile.js","util/playMidi.js","samples/SoundFonts.js","components/Fakebook.jsx","util/withSynth.jsx","components/Box.jsx","components/ThreeDCanvas.jsx","components/MidiIn.jsx","components/MidiOut.jsx","util/withMidi.jsx","Routes.jsx","App.jsx","serviceWorker.js","index.js"],"names":["parseSong","rawChords","octave","measures","split","chords","parseChords","appendProgressionDetails","map","measure","filter","chord","length","notes","tonal","note","index","concat","spreadOctave","duration","MidiWriter","require","composeMidiFile","tempo","track","Track","chordEvents","NoteEvent","pitch","console","log","event","addEvent","setTempo","write","Writer","dataUri","MidiPlayer","Soundfont","ac","AudioContext","playMidi","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","instrument","wrap","_context","prev","next","then","Player","time","currentTime","name","play","noteName","gain","velocity","loadDataUri","stop","_x","_x2","apply","this","arguments","playMidiThroughOutput","_ref2","_callee2","output","_context2","playNote","_x3","_x4","soundFonts","JazzText","styled","textarea","_templateObject","props","_useState","useState","_useState2","slicedToArray","setChords","_useState3","_useState4","_useState5","_useState6","loops","setLoops","_useState7","_useState8","setInstrument","react_default","createElement","style","width","height","alignItems","paddingTop","onSubmit","e","allChords","preventDefault","flatten","midiDataUri","handleSubmit","value","onChange","target","type","font","_templateObject2","distortion","Tone","Distortion","tremolo","Tremolo","start","withSynth","Cmp","synth","PolySynth","oscillator","modulationType","modulationIndex","harmonicity","envelope","attack","decay","sustain","release","chain","Master","fmSynth","FMSynth","toMaster","assign","children","Box","mesh","useRef","hovered","setHover","active","setActive","noteEvent","useFrame","current","rotation","x","y","includes","position","z","rotationY","ref","scale","onClick","Math","ceil","noteFromRotation","triggerAttackRelease","midiOut","onPointerOver","onPointerOut","attach","args","color","SynthBox","ThreeDCanvas","web","MidiIn","justifyContent","midiIns","input","_midiInput","id","setMidiInId","ThreeDCanvas_ThreeDCanvas","MidiText","MidiOut_templateObject","MidiOut","noteBoxes","setNoteBoxes","Fragment","midiOuts","_midiOutput","setMidiOutId","i","Box_Box","key","withMidi","compose","setNoteEvent","midiOutId","setMidiOut","midiInId","_useState9","_useState10","setMidiOuts","_useState11","_useState12","setMidiIns","useEffect","WebMidi","enable","inputs","outputs","getInputById","getOutputById","addListener","removeListener","SideNav","div","Routes_templateObject","react_router_dom","basename","flexDirection","to","react_router","path","components_Fakebook","MidiIn_MidiIn","components_MidiOut","component","Fakebook","App","className","src_Routes","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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ACA,mBACA,mBACA,eACA,SACA,QACA,cACA,gBACA,YACA,kBACA,eACA,kBACA,kBACA,eACA,cACA,aACA,eACA,oBACA,mBACA,UACA,YACA,cACA,aACA,kBACA,UACA,OACA,gBACA,kBACA,kBACA,eACA,iBACA,eACA,gBACA,oBACA,UACA,cACA,YACA,gBACA,OACA,UACA,gBACA,kBACA,oBACA,gBACA,aACA,kBACA,cACA,cACA,iBACA,aACA,cACA,YACA,mBACA,UACA,oBACA,WACA,aACA,iBACA,aACA,WACA,aACA,WACA,SACA,QACA,cACA,cACA,cACA,cACA,oBACA,oBACA,eACA,eACA,gBACA,gBACA,cACA,aACA,kBACA,kBACA,aACA,kBACA,iBACA,YACA,UACA,cACA,kBACA,WACA,UACA,OACA,gBACA,aACA,QACA,SACA,aACA,UACA,YACA,gNCxHF,IAiEMC,EAAWC,IAAOC,SAAVC,KAQCF,cAlEE,SAAAG,GAAS,IAAAC,EACIC,mBAC1B,8JAFsBC,EAAA3C,OAAA4C,EAAA,EAAA5C,CAAAyC,EAAA,GACjB/E,EADiBiF,EAAA,GACTE,EADSF,EAAA,GAAAG,EAIEJ,mBAAS,KAJXK,EAAA/C,OAAA4C,EAAA,EAAA5C,CAAA8C,EAAA,GAIjBlE,EAJiBmE,EAAA,GAIVzD,EAJUyD,EAAA,GAAAC,EAKEN,mBAAS,GALXO,EAAAjD,OAAA4C,EAAA,EAAA5C,CAAAgD,EAAA,GAKjBE,EALiBD,EAAA,GAKVE,EALUF,EAAA,GAAAG,EAOYV,mBAAS,yBAPrBW,EAAArD,OAAA4C,EAAA,EAAA5C,CAAAoD,EAAA,GAOjB9C,EAPiB+C,EAAA,GAOLC,EAPKD,EAAA,GASxB,OACEE,EAAApD,EAAAqD,cAAA,OACEC,MAAO,CACLC,MAAO,QACPC,OAAQ,QACRC,WAAY,SACZC,WAAY,MAGdN,EAAApD,EAAAqD,cAAA,QACEM,SAAU,SAAAC,GAAC,OA1BE,SAAAhE,GAAyC,IAAtCgE,EAAsChE,EAAtCgE,EAAGC,EAAmCjE,EAAnCiE,UAAWpF,EAAwBmB,EAAxBnB,MAAO0B,EAA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","file":"static/js/main.a20d188b.chunk.js","sourcesContent":["import * as tonal from \"tonal\";\n\nexport const parseSong = (rawChords, octave) => {\n  const measures = rawChords.split(\"|\");\n  const chords = parseChords(measures);\n  const song = appendProgressionDetails(chords, octave);\n  return song;\n};\n\nconst parseChords = measures => {\n  return measures\n    .map(measure => measure.split(\" \"))\n    .map(measure => measure.filter(chord => chord.length > 0));\n};\n\nconst spreadOctave = index => (index % 2 === 0 ? 1 : 0);\n\nconst appendProgressionDetails = (chords, octave) => {\n  return chords.map(measure =>\n    measure.map(chord => ({\n      notes: tonal.Chord.notes(chord).map(\n        (note, index) => `${note}${octave + spreadOctave(index)}`\n      ),\n      octave,\n      chord,\n      duration: measure.length > 1 ? `2` : `1`\n    }))\n  );\n};\n","const MidiWriter = require(\"midi-writer-js\");\n\nexport const composeMidiFile = (chords, tempo) => {\n  const track = new MidiWriter.Track();\n  const chordEvents = chords.map(chord =>\n    chord.duration === \"2\"\n      ? [\n          new MidiWriter.NoteEvent({\n            pitch: chord.notes,\n            duration: \"8\"\n          }),\n          new MidiWriter.NoteEvent({\n            pitch: chord.notes,\n            duration: \"8\"\n          })\n        ]\n      : [\n          new MidiWriter.NoteEvent({\n            pitch: chord.notes,\n            duration: \"8\"\n          }),\n          new MidiWriter.NoteEvent({\n            pitch: chord.notes,\n            duration: \"8\"\n          }),\n          new MidiWriter.NoteEvent({\n            pitch: chord.notes,\n            duration: \"8\"\n          }),\n          new MidiWriter.NoteEvent({\n            pitch: chord.notes,\n            duration: \"8\"\n          })\n        ]\n  );\n  console.log(chords);\n  console.log(chordEvents);\n  // track.addEvent(chordEvents);\n  chordEvents.map(event => track.addEvent(event));\n  track.setTempo(tempo || 120);\n  const write = new MidiWriter.Writer(track);\n  console.log(write.dataUri());\n  return write.dataUri();\n};\n","const MidiPlayer = require(\"midi-player-js\");\nconst Soundfont = require(\"soundfont-player\");\nconst ac = new AudioContext();\n// https://github.com/gleitz/midi-js-soundfonts\nexport const playMidi = async (dataUri, instrument) => {\n  Soundfont.instrument(\n    ac,\n    `https://raw.githubusercontent.com/gleitz/midi-js-soundfonts/gh-pages/FatBoy/${instrument}-mp3.js`\n  ).then(instrument => {\n    const Player = new MidiPlayer.Player(event => {\n      const time = ac.currentTime;\n      console.log(event);\n      event.name === \"Note on\"\n        ? instrument.play(event.noteName, time, { gain: event.velocity / 4 })\n        : console.log(event);\n    });\n    Player.loadDataUri(dataUri);\n    Player.play();\n  });\n};\n\nexport const playMidiThroughOutput = async (dataUri, output) => {\n  const Player = new MidiPlayer.Player(event => {\n    console.log(output);\n    const time = ac.currentTime;\n    console.log(event);\n    event.name === \"Note on\" && output\n      ? output.playNote(event.noteName, \"all\", { duration: time * 100 })\n      : console.log(event);\n  });\n  Player.loadDataUri(dataUri);\n  Player.play();\n};\n","export const soundFonts = [\n  \"accordion\",\n  \"acoustic_bass\",\n  \"acoustic_grand_piano\",\n  \"acoustic_guitar_nylon\",\n  \"acoustic_guitar_steel\",\n  \"agogo\",\n  \"alto_sax\",\n  \"applause\",\n  \"bagpipe\",\n  \"banjo\",\n  \"baritone_sax\",\n  \"bassoon\",\n  \"bird_tweet\",\n  \"blown_bottle\",\n  \"brass_section\",\n  \"breath_noise\",\n  \"bright_acoustic_piano\",\n  \"celesta\",\n  \"cello\",\n  \"choir_aahs\",\n  \"church_organ\",\n  \"clarinet\",\n  \"clavinet\",\n  \"contrabass\",\n  \"distortion_guitar\",\n  \"drawbar_organ\",\n  \"dulcimer\",\n  \"electric_bass_finger\",\n  \"electric_bass_pick\",\n  \"electric_grand_piano\",\n  \"electric_guitar_clean\",\n  \"electric_guitar_jazz\",\n  \"electric_guitar_muted\",\n  \"electric_piano_1\",\n  \"electric_piano_2\",\n  \"english_horn\",\n  \"fiddle\",\n  \"flute\",\n  \"french_horn\",\n  \"fretless_bass\",\n  \"fx_1_rain\",\n  \"fx_2_soundtrack\",\n  \"fx_3_crystal\",\n  \"fx_4_atmosphere\",\n  \"fx_5_brightness\",\n  \"fx_6_goblins\",\n  \"fx_7_echoes\",\n  \"fx_8_scifi\",\n  \"glockenspiel\",\n  \"guitar_fret_noise\",\n  \"guitar_harmonics\",\n  \"gunshot\",\n  \"harmonica\",\n  \"harpsichord\",\n  \"helicopter\",\n  \"honkytonk_piano\",\n  \"kalimba\",\n  \"koto\",\n  \"lead_1_square\",\n  \"lead_2_sawtooth\",\n  \"lead_3_calliope\",\n  \"lead_4_chiff\",\n  \"lead_5_charang\",\n  \"lead_6_voice\",\n  \"lead_7_fifths\",\n  \"lead_8_bass__lead\",\n  \"marimba\",\n  \"melodic_tom\",\n  \"music_box\",\n  \"muted_trumpet\",\n  \"oboe\",\n  \"ocarina\",\n  \"orchestra_hit\",\n  \"orchestral_harp\",\n  \"overdriven_guitar\",\n  \"pad_1_new_age\",\n  \"pad_2_warm\",\n  \"pad_3_polysynth\",\n  \"pad_4_choir\",\n  \"pad_5_bowed\",\n  \"pad_6_metallic\",\n  \"pad_7_halo\",\n  \"pad_8_sweep\",\n  \"pan_flute\",\n  \"percussive_organ\",\n  \"piccolo\",\n  \"pizzicato_strings\",\n  \"recorder\",\n  \"reed_organ\",\n  \"reverse_cymbal\",\n  \"rock_organ\",\n  \"seashore\",\n  \"shakuhachi\",\n  \"shamisen\",\n  \"shanai\",\n  \"sitar\",\n  \"slap_bass_1\",\n  \"slap_bass_2\",\n  \"soprano_sax\",\n  \"steel_drums\",\n  \"string_ensemble_1\",\n  \"string_ensemble_2\",\n  \"synth_bass_1\",\n  \"synth_bass_2\",\n  \"synth_brass_1\",\n  \"synth_brass_2\",\n  \"synth_choir\",\n  \"synth_drum\",\n  \"synth_strings_1\",\n  \"synth_strings_2\",\n  \"taiko_drum\",\n  \"tango_accordion\",\n  \"telephone_ring\",\n  \"tenor_sax\",\n  \"timpani\",\n  \"tinkle_bell\",\n  \"tremolo_strings\",\n  \"trombone\",\n  \"trumpet\",\n  \"tuba\",\n  \"tubular_bells\",\n  \"vibraphone\",\n  \"viola\",\n  \"violin\",\n  \"voice_oohs\",\n  \"whistle\",\n  \"woodblock\",\n  \"xylophone\"\n];\n","import React, { useState } from \"react\";\nimport { parseSong } from \"../util/songParser\";\nimport { composeMidiFile } from \"../util/composeMidiFile\";\nimport { flatten } from \"ramda\";\nimport { playMidi } from \"../util/playMidi\";\nimport styled from \"styled-components\";\nimport { soundFonts } from \"../samples/SoundFonts\";\n\nconst handleSubmit = ({ e, allChords, tempo, instrument }) => {\n  e.preventDefault();\n  const chords = flatten(parseSong(allChords, 4));\n  const midiDataUri = composeMidiFile(chords, tempo);\n  playMidi(midiDataUri, instrument);\n};\n\nconst Fakebook = props => {\n  const [chords, setChords] = useState(\n    \"BMaj7 D7 | GMaj7 Bb7 | EbMaj7 | Am7 D7 | GMaj7 Bb7 | EbMaj7 F#7 | BMaj7| Fm7 Bb7 | EbMaj7 | Am7 D7 | GMaj7 | C#m7 F#7 | BMaj7 | Fm7 Bb7| EbMaj7 | C#m7 F#7\"\n  );\n  const [tempo, setTempo] = useState(240);\n  const [loops, setLoops] = useState(1);\n\n  const [instrument, setInstrument] = useState(\"bright_acoustic_piano\");\n\n  return (\n    <div\n      style={{\n        width: \"100vh\",\n        height: \"100vh\",\n        alignItems: \"center\",\n        paddingTop: 100\n      }}\n    >\n      <form\n        onSubmit={e =>\n          handleSubmit({\n            e,\n            allChords: chords,\n            tempo,\n            instrument,\n            loops\n          })\n        }\n      >\n        <JazzText value={chords} onChange={e => setChords(e.target.value)} />\n        <input\n          value={tempo}\n          type=\"number\"\n          onChange={e => {\n            setTempo(e.target.value);\n          }}\n        />\n        <input\n          value={loops}\n          type=\"number\"\n          onChange={e => {\n            setLoops(e.target.value);\n          }}\n        />\n        <select\n          value={instrument}\n          onChange={e => setInstrument(e.target.value)}\n        >\n          {soundFonts.map(font => (\n            <option>{font}</option>\n          ))}\n        </select>\n        <input type=\"submit\" value=\"Play\" />\n      </form>\n    </div>\n  );\n};\n\nconst JazzText = styled.textarea`\n  font-size: 32pt;\n  width: 800px;\n  height: 600px;\n`;\n\n//   font-family: Boogaloo-Regular;\n\nexport default styled(Fakebook)``;\n","import React from \"react\";\nimport Tone from \"tone\";\nvar distortion = new Tone.Distortion(0.6);\nvar tremolo = new Tone.Tremolo().start();\n\nexport const withSynth = Cmp => props => {\n  const synth = new Tone.PolySynth({\n    oscillator: {\n      type: \"fmsquare\",\n      modulationType: \"sawtooth\",\n      modulationIndex: 3,\n      harmonicity: 3.4\n    },\n\n    envelope: {\n      attack: 0.001,\n      decay: 0.1,\n      sustain: 0.1,\n      release: 0.1\n    }\n  }).chain(distortion, tremolo, Tone.Master);\n\n  const fmSynth = new Tone.FMSynth().toMaster();\n\n  return (\n    <Cmp synth={synth} fmSynth={fmSynth} {...props}>\n      {props.children}\n    </Cmp>\n  );\n};\n","import React, { useRef, useState } from \"react\";\nimport { useFrame } from \"react-three-fiber\";\nimport { withSynth } from \"../util/withSynth\";\nimport { length } from \"ramda\";\n\nconst noteFromRotation = (rotation, notes) => {\n  const index = Math.ceil(rotation * 5) % length(notes);\n  console.log(notes[index]);\n  return notes[index];\n};\n\nexport const Box = props => {\n  // This reference will give us direct access to the mesh\n  const mesh = useRef();\n\n  // Set up state for the hovered and active state\n  const [hovered, setHover] = useState(false);\n  const [active, setActive] = useState(false);\n  const noteEvent = props.noteEvent;\n  // Rotate mesh every frame, this is outside of React without overhead\n  useFrame(() => {\n    mesh.current.rotation.x = mesh.current.rotation.y += 0.01;\n    mesh.current.rotation.y =\n      noteEvent && noteEvent.includes(\"C\")\n        ? (mesh.current.rotation.y += 1)\n        : mesh.current.rotation.y;\n\n    mesh.current.position.z = active\n      ? (mesh.current.position.z += 0.01)\n      : (mesh.current.position.z -= 0.01);\n  });\n  const rotationY = mesh.current ? mesh.current.rotation.y / 3 : 1;\n  return (\n    <mesh\n      {...props}\n      ref={mesh}\n      scale={!active ? [0.5, 0.5, 0.5] : [0.7, 0.7, 0.7]}\n      onClick={e => {\n        setActive(!active);\n        console.log(mesh.current.rotation.y);\n        const note = noteFromRotation(rotationY, props.notes);\n        props.synth && props.synth.triggerAttackRelease(note, 0.5);\n        props.midiOut &&\n          props.midiOut.playNote(note, \"all\", { duration: 1000 });\n      }}\n      onPointerOver={e => setHover(true)}\n      onPointerOut={e => setHover(false)}\n    >\n      <boxBufferGeometry attach=\"geometry\" args={[1, 1, 1]} />\n      <meshStandardMaterial\n        attach=\"material\"\n        color={hovered ? \"#FFFF00\" : \"#00ffff\"}\n      />\n    </mesh>\n  );\n};\n\nexport const SynthBox = withSynth(Box);\n","import React from \"react\";\nimport { Canvas } from \"react-three-fiber\";\n\nexport const ThreeDCanvas = props => {\n  return (\n    <Canvas style={{ width: \"100vw\", height: \"100vh\" }}>\n      <ambientLight />\n      <pointLight position={[10, 10, 10]} />\n      {props.children}\n    </Canvas>\n  );\n};\n","import React from \"react\";\nimport { SynthBox } from \"./Box\";\nimport { ThreeDCanvas } from \"./ThreeDCanvas\";\n\nexport const MidiIn = props => {\n  return (\n    <div style={{ width: \"100vh\", height: \"100vh\", alignItems: \"center\" }}>\n      <div style={{ justifyContent: \"space-between\" }}>\n        <select>\n          {props.midiIns &&\n            props.midiIns.map(input => (\n              <option\n                value={input._midiInput.id}\n                onChange={() => props.setMidiInId(input._midiInput.id)}\n              >\n                {input._midiInput.name}\n              </option>\n            ))}\n        </select>\n      </div>\n      <ThreeDCanvas>\n        <SynthBox\n          noteEvent={props.noteEvent}\n          notes={[\"A4\", \"C5\", \"D3\", \"E4\", \"G4\", \"A3\", \"C4\", \"D5\", \"E4\", \"G4\"]}\n          position={[0, 0, 0]}\n        />\n      </ThreeDCanvas>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { parseSong } from \"../util/songParser\";\nimport { composeMidiFile } from \"../util/composeMidiFile\";\nimport { flatten } from \"ramda\";\nimport { playMidiThroughOutput } from \"../util/playMidi\";\nimport styled from \"styled-components\";\nimport { Box } from \"./Box\";\nimport { ThreeDCanvas } from \"./ThreeDCanvas\";\n\nconst handleSubmit = (event, setChords, allChords, output) => {\n  event.preventDefault();\n  setChords(allChords);\n  const chords = flatten(parseSong(allChords, 4));\n  const midiDataUri = composeMidiFile(chords, 240);\n  playMidiThroughOutput(midiDataUri, output);\n};\n\nconst MidiOut = props => {\n  const [chords, setChords] = useState(\"\");\n  const [noteBoxes, setNoteBoxes] = useState([\n    [\"A4\", \"C4\", \"D4\", \"E4\", \"G4\"],\n    [\"G4\", \"A4\", \"B4\", \"Db4\", \"Eb4\", \"F4\"],\n    [\"A5\", \"Db5\", \"Eb5\", \"E5\", \"G2\"],\n    [\"G4\", \"A4\", \"B4\", \"Db4\", \"Eb4\", \"F4\"],\n    [\"A5\", \"Db5\", \"Eb5\", \"E5\", \"G2\"]\n  ]);\n\n  console.log(props, setNoteBoxes);\n  return (\n    <>\n      <select>\n        {props.midiOuts &&\n          props.midiOuts.map(output => (\n            <option\n              value={output._midiOutput.id}\n              onChange={() => props.setMidiOutId(output._midiInput.id)}\n            >\n              {output._midiOutput.name}\n            </option>\n          ))}\n      </select>\n      <form onSubmit={e => handleSubmit(e, setChords, chords, props.midiOut)}>\n        <MidiText value={chords} onChange={e => setChords(e.target.value)} />\n        <input type=\"submit\" value=\"Play\" />\n      </form>\n      <div\n        style={{\n          width: \"100vh\",\n          height: \"100vh\",\n          alignItems: \"center\",\n          paddingTop: 100\n        }}\n      >\n        <ThreeDCanvas style={{ width: \"100vw\", height: \"100vh\" }}>\n          {noteBoxes.map((notes, i) =>\n            i % 2 !== 0 ? (\n              <Box\n                key={i}\n                midiOut={props.midiOut}\n                notes={notes}\n                position={[-i * 2, -i * 0.5, 0]}\n              />\n            ) : (\n              <Box\n                key={i}\n                midiOut={props.midiOut}\n                notes={notes}\n                position={[i * 0.8, i * 0.5, 0]}\n              />\n            )\n          )}\n        </ThreeDCanvas>\n      </div>\n    </>\n  );\n};\n\nconst MidiText = styled.textarea`\n  font-size: 32pt;\n  font-family: Arial;\n`;\n\nexport default MidiOut;\n","import React, { useState, useEffect } from \"react\";\nimport WebMidi from \"webmidi\";\nimport { withSynth } from \"./withSynth\";\nimport { compose, length } from \"ramda\";\n\nexport const withWebMidi = Cmp => props => {\n  const [noteEvent, setNoteEvent] = useState();\n  const [midiOutId, setMidiOutId] = useState();\n  const [midiOut, setMidiOut] = useState();\n  // const [midiIn, setMidiIn] = useState();\n  const [midiInId, setMidiInId] = useState();\n  const [midiOuts, setMidiOuts] = useState();\n  const [midiIns, setMidiIns] = useState();\n\n  useEffect(() => {\n    WebMidi.enable(() => {\n      console.log(WebMidi.inputs);\n      console.log(WebMidi.outputs);\n      setMidiIns(WebMidi.inputs);\n      setMidiOuts(WebMidi.outputs);\n      if (length(WebMidi.inputs) > 0 && length(WebMidi.outputs) > 0) {\n        const input = WebMidi.getInputById(\n          midiInId || WebMidi.inputs[1]._midiInput.id\n        );\n        // const output = WebMidi.getOutputById(\"1295864820\");\n        const output = WebMidi.getOutputById(\n          midiOutId || WebMidi.outputs[1]._midiOutput.id\n        );\n\n        setMidiOut(output);\n        input.addListener(\"noteon\", \"all\", e => {\n          console.log(\n            \"Received 'noteon' message (\" + e.note.name + e.note.octave + \").\"\n          );\n          const note = e.note.name + e.note.octave;\n          setNoteEvent(note);\n          props.synth.triggerAttackRelease(note, 1.5);\n        });\n        input.removeListener(\"noteoff\");\n      }\n    });\n  }, [midiOutId, midiInId, midiIns, midiOuts]);\n\n  return (\n    <Cmp\n      noteEvent={noteEvent}\n      midiOuts={midiOuts}\n      setMidiOutId={setMidiOutId}\n      midiIns={midiIns}\n      setMidiInId={setMidiInId}\n      midiOut={midiOut}\n      {...props}\n    >\n      {props.children}\n    </Cmp>\n  );\n};\n\nexport const withMidi = compose(withSynth, withWebMidi);\n","import React from \"react\";\n\nimport { HashRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport Fakebook from \"./components/Fakebook\";\nimport { MidiIn } from \"./components/MidiIn\";\nimport MidiOut from \"./components/MidiOut\";\nimport { withMidi } from \"./util/withMidi\";\nimport styled from \"styled-components\";\n\nexport const Routes = props => {\n  return (\n    <Router basename={\"/\"}>\n      <div style={{ flexDirection: \"row\" }}>\n        <SideNav>\n          <div>\n            <Link to=\"/fakebook\">Fakebook</Link>\n          </div>\n          <div>\n            <Link to=\"/midi-in\">midi-in</Link>\n          </div>\n          <div>\n            <Link to=\"/midi-out\">midi-out</Link>\n          </div>\n          {/* <Link to=\"/midi-chat\">midi-chat</Link> */}\n        </SideNav>\n        <Switch>\n          <Route path=\"/fakebook\">\n            <Fakebook />\n          </Route>\n          <Route path=\"/midi-in\">\n            <MidiIn {...props} />\n          </Route>\n          <Route path=\"/midi-out\">\n            <MidiOut {...props} />\n          </Route>\n          <Route path=\"/\" component={Fakebook}></Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n\nconst SideNav = styled.div`\n  height: 100%;\n  width: 50;\n  left: 0;\n  z-index: 20;\n  position: fixed;\n  flex: 1;\n  background-color: #ff00ff;\n  justify-content: left;\n`;\n\nexport default withMidi(Routes);\n","import React from \"react\";\nimport \"./App.css\";\nimport Routes from \"./Routes\";\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Routes />\n      </header>\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}